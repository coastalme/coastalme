<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CoastalME (Coastal Modelling Environment): assign_landforms.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CoastalME (Coastal Modelling Environment)
   </div>
   <div id="projectbrief">Simulates the long-term behaviour of complex coastlines</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('da/d3d/assign__landforms_8cpp_source.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">assign_landforms.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="../../da/d3d/assign__landforms_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">/*===============================================================================================================================</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"></span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">This file is part of CoastalME, the Coastal Modelling Environment.</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment"></span> </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">CoastalME is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version.</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment"></span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="comment"></span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment"></span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="comment">===============================================================================================================================*/</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="keyword">using </span>std::cout;</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="keyword">using </span>std::cerr;</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="keyword">using </span>std::endl;</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="../../d6/d2a/cme_8h.html">cme.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="../../dd/d6a/simulation_8h.html">simulation.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="../../de/d65/coast_8h.html">coast.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="../../db/df0/cliff_8h.html">cliff.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="../../d6/dcd/drift_8h.html">drift.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;<a class="code" href="../../d3/d47/intervention_8h.html">intervention.h</a>&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="comment">//===============================================================================================================================</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="comment">//===============================================================================================================================</span></div>
<div class="foldopen" id="foldopen00041" data-start="{" data-end="}">
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="../../d1/d98/classCSimulation.html#a16fa334ddfaabec608ba57253da83387">   41</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d1/d98/classCSimulation.html#a16fa334ddfaabec608ba57253da83387">CSimulation::nAssignLandformsForAllCoasts</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>{</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>   <span class="comment">// For each coastline, put a coastal landform at every point along the coastline</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> nCoast = 0; nCoast &lt; static_cast&lt;int&gt;(<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>.size()); nCoast++)</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>   {</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast].nGetCoastlineSize(); j++)</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>      {</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>         <span class="comment">// Get the coords of the grid cell marked as coastline for the coastal landform object</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>         <span class="keywordtype">int</span> nX = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast].pPtiGetCellMarkedAsCoastline(j)-&gt;nGetX();</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>         <span class="keywordtype">int</span> nY = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast].pPtiGetCellMarkedAsCoastline(j)-&gt;nGetY();</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>         <span class="comment">// Store the coastline number and the number of the coastline point in the cell so we can get these quickly later</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>         <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetCoast(nCoast);</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>         <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetPointOnCoast(j);</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>         <span class="comment">// OK, start assigning coastal landforms. First, is there an intervention here?</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>         <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d1/d98/classCSimulation.html#ae293573ac53f0a8d536037d0edffd25f">bIsInterventionCell</a>(nX, nY) || <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].dGetInterventionHeight() &gt; 0)</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>         {</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>            <span class="comment">// There is, so create an intervention object on the vector coastline with these attributes</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>            <a class="code hl_class" href="../../d2/de0/classCACoastLandform.html">CACoastLandform</a>* pIntervention = <span class="keyword">new</span> <a class="code hl_class" href="../../d4/d51/classCRWIntervention.html">CRWIntervention</a>(&amp;<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast], nCoast, j);</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>            <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast].AppendCoastLandform(pIntervention);</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> </div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="comment">//             LogStream &lt;&lt; j &lt;&lt; &quot; [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;} &quot; &lt;&lt; m_pRasterGrid-&gt;m_Cell[nX][nY].pGetLandform()-&gt;nGetLFCategory() &lt;&lt; &quot; &quot; &lt;&lt; m_pRasterGrid-&gt;m_Cell[nX][nY].dGetInterventionHeight() &lt;&lt; endl;</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>         }</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>         <span class="comment">// OK this landform is something other than an intervention. So check what we have at SWL on this cell: is it unconsolidated or consolidated sediment? Note that layer 0 is the first layer above basement</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>         <span class="keywordtype">int</span> nLayer = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].nGetLayerAtElev(<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a115ab27bae37ce2d0de57cbdaeaba852">m_dThisIterSWL</a>);</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>         <span class="keywordflow">if</span> (nLayer == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#aced815d3e3aed93353376983f4295d75">ELEV_IN_BASEMENT</a>)</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>         {</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>            <span class="comment">// Should never happen</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>            <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a222962121613613a48f518e0c2110f21">LogStream</a> &lt;&lt; <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#ad67e8c5b30a0572f64ecfb5c062c2edc">m_ulIter</a> &lt;&lt; <span class="stringliteral">&quot;: SWL (&quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a115ab27bae37ce2d0de57cbdaeaba852">m_dThisIterSWL</a> &lt;&lt; <span class="stringliteral">&quot;) is in basement on cell [&quot;</span> &lt;&lt; nX &lt;&lt; <span class="stringliteral">&quot;][&quot;</span> &lt;&lt; nY &lt;&lt; <span class="stringliteral">&quot;] = {&quot;</span> &lt;&lt; <a class="code hl_function" href="../../d1/d98/classCSimulation.html#ad79b925ac5f358c6f867b6e47dad74bd">dGridCentroidXToExtCRSX</a>(nX) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code hl_function" href="../../d1/d98/classCSimulation.html#a7e2a4bd69ce79377fee86aa5598903f8">dGridCentroidYToExtCRSY</a>(nY) &lt;&lt; <span class="stringliteral">&quot;}, cannot assign coastal landform for coastline &quot;</span> &lt;&lt; nCoast &lt;&lt; endl;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#acb2ce7af39512b19a2ea1b3b0826aca2">RTN_ERR_CANNOT_ASSIGN_COASTAL_LANDFORM</a>;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>         }</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nLayer == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a1a0f3745fbc2e50a9f483893339c9f75">ELEV_ABOVE_SEDIMENT_TOP</a>)</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>         {</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>            <span class="comment">// Again, should never happen</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>            <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a222962121613613a48f518e0c2110f21">LogStream</a> &lt;&lt; <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#ad67e8c5b30a0572f64ecfb5c062c2edc">m_ulIter</a> &lt;&lt; <span class="stringliteral">&quot;: SWL (&quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a115ab27bae37ce2d0de57cbdaeaba852">m_dThisIterSWL</a> &lt;&lt; <span class="stringliteral">&quot;) is above sediment-top elevation (&quot;</span> &lt;&lt; <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].dGetSedimentTopElev() &lt;&lt; <span class="stringliteral">&quot;) on cell [&quot;</span> &lt;&lt; nX &lt;&lt; <span class="stringliteral">&quot;][&quot;</span> &lt;&lt; nY &lt;&lt; <span class="stringliteral">&quot;] = {&quot;</span> &lt;&lt; <a class="code hl_function" href="../../d1/d98/classCSimulation.html#ad79b925ac5f358c6f867b6e47dad74bd">dGridCentroidXToExtCRSX</a>(nX) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code hl_function" href="../../d1/d98/classCSimulation.html#a7e2a4bd69ce79377fee86aa5598903f8">dGridCentroidYToExtCRSY</a>(nY) &lt;&lt; <span class="stringliteral">&quot;}, cannot assign coastal landform for coastline &quot;</span> &lt;&lt; nCoast &lt;&lt; endl;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#acb2ce7af39512b19a2ea1b3b0826aca2">RTN_ERR_CANNOT_ASSIGN_COASTAL_LANDFORM</a>;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>         }</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>         <span class="keywordtype">double</span> dConsSedTop = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].dGetConsSedTopForLayerAboveBasement(nLayer);</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>         <span class="keywordtype">bool</span> bConsSedAtSWL = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>         <span class="keywordflow">if</span> (dConsSedTop &gt;= <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a115ab27bae37ce2d0de57cbdaeaba852">m_dThisIterSWL</a>)</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>            bConsSedAtSWL = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span> </div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>         <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#ad67e8c5b30a0572f64ecfb5c062c2edc">m_ulIter</a> == 1)</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>         {</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>            <span class="comment">// The first timestep: no coastal landforms (other than interventions) already exist, so no grid cells are flagged with coastal landform attributes. So we must update the grid now using the initial values for the coastal landform object&#39;s attributes, ready for nLandformToGrid() at the end of the first timestep</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>            <span class="keywordflow">if</span> (bConsSedAtSWL)</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>            {</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>               <span class="comment">// First timestep: we have consolidated sediment at SWL, so this is a cliff cell. Set some initial values for the cliff object&#39;s attributes</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>               <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetLFSubCategory(<a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a159c5886feeb5802c0a13e16843d0edb">LF_SUBCAT_CLIFF_ON_COASTLINE</a>);</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>               <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetCliffNotchBaseElev(<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a115ab27bae37ce2d0de57cbdaeaba852">m_dThisIterSWL</a>);</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>               <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetCliffNotchDepth(0);</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>               <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetCliffRemaining(<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#ae0de69c3d3acd6d52dc2ec2f456c0eb5">m_dCellSide</a>);</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>               <span class="comment">// Create a cliff object on the vector coastline with these attributes</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>               <a class="code hl_class" href="../../d2/de0/classCACoastLandform.html">CACoastLandform</a>* pCliff = <span class="keyword">new</span> <a class="code hl_class" href="../../d9/d8b/classCRWCliff.html">CRWCliff</a>(&amp;<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast], nCoast, j, <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#ae0de69c3d3acd6d52dc2ec2f456c0eb5">m_dCellSide</a>, 0, <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a115ab27bae37ce2d0de57cbdaeaba852">m_dThisIterSWL</a>, 0);</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>               <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast].AppendCoastLandform(pCliff);</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="comment">//                LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: CLIFF CREATED [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>            }</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>            {</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>               <span class="comment">// First timestep: we have unconsolidated sediment at SWL, so this is a drift cell: create a drift object on the vector coastline with these attributes</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>               <a class="code hl_class" href="../../d2/de0/classCACoastLandform.html">CACoastLandform</a>* pDrift = <span class="keyword">new</span> <a class="code hl_class" href="../../d0/d02/classCRWDrift.html">CRWDrift</a>(&amp;<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast], nCoast, j);</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>               <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast].AppendCoastLandform(pDrift);</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>               <span class="comment">// Safety check</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>               <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;nGetLFCategory() != <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a>)</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>                  <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetLFSubCategory(<a class="code hl_variable" href="../../d6/d2a/cme_8h.html#ac006049b50f3bab64858fe746d6733c8">LF_SUBCAT_DRIFT_MIXED</a>);</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span><span class="comment">//                LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: DRIFT CREATED [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>            }</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>         }</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>         <span class="keywordflow">else</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>         {</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>            <span class="comment">// This not the first timestep</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>            <span class="keywordflow">if</span> (bConsSedAtSWL)</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>            {</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>               <span class="comment">// We have consolidated sediment at SWL, so this is a cliff cell. Set some default values</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>               <span class="keywordtype">double</span> dAccumWaveEnergy = 0;</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>               <span class="keywordtype">double</span> dNotchBaseElev = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a115ab27bae37ce2d0de57cbdaeaba852">m_dThisIterSWL</a>;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>               <span class="keywordtype">double</span> dNotchDepth = 0;</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>               <span class="keywordtype">double</span> dRemaining = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#ae0de69c3d3acd6d52dc2ec2f456c0eb5">m_dCellSide</a>;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> </div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>               <span class="comment">// Get the existing landform category of this cell</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>               <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;nGetLFCategory() == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#ad6be96d3be217d31a74c2412d7e6cbbb">LF_CAT_CLIFF</a>)</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>               {</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>                  <span class="comment">// This cell was a cliff in a previous timestep, so get the data stored in the cell, this will be stored in the cliff object on the vector coastline</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>                  <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetLFSubCategory(<a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a159c5886feeb5802c0a13e16843d0edb">LF_SUBCAT_CLIFF_ON_COASTLINE</a>);</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>                  dAccumWaveEnergy = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;dGetAccumWaveEnergy();</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>                  dNotchDepth   = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;dGetCliffNotchDepth();</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>                  dNotchBaseElev   = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;dGetCliffNotchBaseElev();</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>                  <span class="comment">// dRemaining       = m_pRasterGrid-&gt;m_Cell[nX][nY].pGetLandform()-&gt;dGetCliffRemaining();</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span><span class="comment">//                   LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: CLIFF RE-CREATED [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>               }</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>               <span class="keywordflow">else</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>               {</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>                  <span class="comment">// This cell was not a cliff object in a previous timestep, so mark it as one now and set the cell with the default values for the cliff object&#39;s attributes</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>                  <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetLFSubCategory(<a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a159c5886feeb5802c0a13e16843d0edb">LF_SUBCAT_CLIFF_ON_COASTLINE</a>);</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>                  dAccumWaveEnergy = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;dGetAccumWaveEnergy();</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>                  <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetCliffNotchDepth(dNotchDepth);</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>                  <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetCliffNotchBaseElev(dNotchBaseElev);</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>                  <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetCliffRemaining(dRemaining);</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span> </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="comment">//                   LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: CLIFF CREATED [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>               }</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>               <span class="comment">// Create a cliff object on the vector coastline with these attributes</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>               <a class="code hl_class" href="../../d2/de0/classCACoastLandform.html">CACoastLandform</a>* pCliff = <span class="keyword">new</span> <a class="code hl_class" href="../../d9/d8b/classCRWCliff.html">CRWCliff</a>(&amp;<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast], nCoast, j, <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#ae0de69c3d3acd6d52dc2ec2f456c0eb5">m_dCellSide</a>, dNotchDepth, dNotchBaseElev, dAccumWaveEnergy);</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>               <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast].AppendCoastLandform(pCliff);</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>            }</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>            {</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>               <span class="comment">// We have unconsolidated sediment at SWL, so this is a drift cell: create a drift object on the vector coastline with these attributes</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>               <a class="code hl_class" href="../../d2/de0/classCACoastLandform.html">CACoastLandform</a>* pDrift = <span class="keyword">new</span> <a class="code hl_class" href="../../d0/d02/classCRWDrift.html">CRWDrift</a>(&amp;<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast], nCoast, j);</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>               <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast].AppendCoastLandform(pDrift);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>               <span class="comment">// Safety check</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>               <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;nGetLFCategory() != <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a>)</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>                  <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetLFSubCategory(<a class="code hl_variable" href="../../d6/d2a/cme_8h.html#ac006049b50f3bab64858fe746d6733c8">LF_SUBCAT_DRIFT_MIXED</a>);</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span> </div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span><span class="comment">//                LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: DRIFT CREATED [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>            }</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>         }</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>      }</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>   }</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="comment">//    // DEBUG CODE ============================================================================================================================================</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="comment">//    for (int i = 0; i &lt; static_cast&lt;int&gt;(m_VCoast.size()); i++)</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="comment">//    {</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span><span class="comment">//       for (int j = 0; j &lt; m_VCoast[i].nGetCoastlineSize(); j++)</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="comment">//       {</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span><span class="comment">//          int</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="comment">//             nX = m_VCoast[i].pPtiGetCellMarkedAsCoastline(j)-&gt;nGetX(),</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span><span class="comment">//             nY = m_VCoast[i].pPtiGetCellMarkedAsCoastline(j)-&gt;nGetY();</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="comment">//</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span><span class="comment">//          LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: coast cell &quot; &lt;&lt; j &lt;&lt; &quot; at [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;} has landform category = &quot;;</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="comment">//</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span><span class="comment">//          int</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span><span class="comment">//             nCat = m_pRasterGrid-&gt;m_Cell[nX][nY].pGetLandform()-&gt;nGetLFCategory(),</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span><span class="comment">//             nSubCat = m_pRasterGrid-&gt;m_Cell[nX][nY].pGetLandform()-&gt;nGetLFSubCategory();</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span><span class="comment">//</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span><span class="comment">//          switch (nCat)</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span><span class="comment">//          {</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span><span class="comment">//          case LF_CAT_HINTERLAND:</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span><span class="comment">//             LogStream &lt;&lt; &quot;hinterland&quot;;</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span><span class="comment">//</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span><span class="comment">//          case LF_CAT_SEA:</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span><span class="comment">//             LogStream &lt;&lt; &quot;sea&quot;;</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span><span class="comment">//</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="comment">//          case LF_CAT_CLIFF:</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="comment">//             LogStream &lt;&lt; &quot;cliff&quot;;</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span><span class="comment">//</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span><span class="comment">//          case LF_CAT_DRIFT:</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span><span class="comment">//             LogStream &lt;&lt; &quot;drift&quot;;</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="comment">//</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span><span class="comment">//          case LF_CAT_INTERVENTION:</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span><span class="comment">//             LogStream &lt;&lt; &quot;intervention&quot;;</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="comment">//</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span><span class="comment">//          case LF_NONE:</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span><span class="comment">//             LogStream &lt;&lt; &quot;none&quot;;</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span><span class="comment">//</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span><span class="comment">//          default:</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span><span class="comment">//             LogStream &lt;&lt; &quot;NONE&quot;;</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span><span class="comment">//          }</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span><span class="comment">//</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span><span class="comment">//          LogStream &lt;&lt; &quot; and landform subcategory = &quot;;</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span><span class="comment">//</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span><span class="comment">//          switch (nSubCat)</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="comment">//          {</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span><span class="comment">//          case LF_SUBCAT_CLIFF_ON_COASTLINE:</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span><span class="comment">//             LogStream &lt;&lt; &quot;cliff on coastline&quot;;</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span><span class="comment">//</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span><span class="comment">//          case LF_SUBCAT_CLIFF_INLAND:</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span><span class="comment">//             LogStream &lt;&lt; &quot;cliff inland&quot;;</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span><span class="comment">//</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="comment">//          case LF_SUBCAT_DRIFT_MIXED:</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="comment">//             LogStream &lt;&lt; &quot;mixed drift&quot;;</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><span class="comment">//</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="comment">//          case LF_SUBCAT_DRIFT_TALUS:</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="comment">//             LogStream &lt;&lt; &quot;talus&quot;;</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span><span class="comment">//</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="comment">//          case LF_SUBCAT_DRIFT_BEACH:</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="comment">//             LogStream &lt;&lt; &quot;beach&quot;;</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span><span class="comment">//</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span><span class="comment">//          case LF_SUBCAT_DRIFT_DUNES:</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><span class="comment">//             LogStream &lt;&lt; &quot;dunes&quot;;</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span><span class="comment">//</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span><span class="comment">//          case LF_SUBCAT_INTERVENTION_STRUCT:</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span><span class="comment">//             LogStream &lt;&lt; &quot;structural intervention&quot;;</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span><span class="comment">//</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span><span class="comment">//          case LF_SUBCAT_INTERVENTION_NON_STRUCT:</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span><span class="comment">//             LogStream &lt;&lt; &quot;non-structural intervention&quot;;</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><span class="comment">//</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span><span class="comment">//          case LF_NONE:</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span><span class="comment">//             LogStream &lt;&lt; &quot;none&quot;;</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span><span class="comment">//</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="comment">//          default:</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span><span class="comment">//             LogStream &lt;&lt; &quot;NONE&quot;;</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="comment">//             break;</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span><span class="comment">//          }</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span><span class="comment">//          LogStream &lt;&lt; endl;</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span><span class="comment">//       }</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span><span class="comment">//    }</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span><span class="comment">//    // DEBUG CODE ============================================================================================================================================</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span> </div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>   <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#aa768cb14b5c6123ee95e6e4ebd9fe331">RTN_OK</a>;</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>}</div>
</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span><span class="comment">//===============================================================================================================================</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span><span class="comment">//===============================================================================================================================</span></div>
<div class="foldopen" id="foldopen00277" data-start="{" data-end="}">
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno"><a class="line" href="../../d1/d98/classCSimulation.html#af9de548b92fa5739286fd1bb9329e732">  277</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d1/d98/classCSimulation.html#af9de548b92fa5739286fd1bb9329e732">CSimulation::nLandformToGrid</a>(<span class="keywordtype">int</span> <span class="keyword">const</span> nCoast, <span class="keywordtype">int</span> <span class="keyword">const</span> nPoint)</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>{</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>   <span class="comment">// What is the coastal landform here?</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>   <a class="code hl_class" href="../../d2/de0/classCACoastLandform.html">CACoastLandform</a>* pCoastLandform = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast].pGetCoastLandform(nPoint);</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>   <span class="keywordtype">int</span> nCategory = pCoastLandform-&gt;<a class="code hl_function" href="../../d2/de0/classCACoastLandform.html#ac161cb56a83d653b651aa08173a1f1ca">nGetLandFormCategory</a>();</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>   </div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>   <span class="keywordflow">if</span> (nCategory == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#ad6be96d3be217d31a74c2412d7e6cbbb">LF_CAT_CLIFF</a>)</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>   {</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>      <span class="comment">// It&#39;s a cliff</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>      <a class="code hl_class" href="../../d9/d8b/classCRWCliff.html">CRWCliff</a> <span class="keyword">const</span>* pCliff = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_class" href="../../d9/d8b/classCRWCliff.html">CRWCliff</a>*<span class="keyword">&gt;</span>(pCoastLandform);</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>      <span class="keywordtype">int</span> nX = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast].pPtiGetCellMarkedAsCoastline(nPoint)-&gt;nGetX();</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>      <span class="keywordtype">int</span> nY = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">m_VCoast</a>[nCoast].pPtiGetCellMarkedAsCoastline(nPoint)-&gt;nGetY();</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span> </div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>      <span class="keywordflow">if</span> (! pCliff-&gt;<a class="code hl_function" href="../../d9/d8b/classCRWCliff.html#a08e6c29f7302b939d1292b46cd04bd24">bHasCollapsed</a>())</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>      {</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>         <span class="comment">// The cliff has not collapsed. Get attribute values from the cliff object</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>         <span class="keywordtype">double</span> dNotchBaseElev = pCliff-&gt;<a class="code hl_function" href="../../d9/d8b/classCRWCliff.html#a70151d708b933a25eb7836d63cea7f8b">dGetNotchBaseElev</a>();</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>         <span class="keywordtype">double</span> dNotchDepth = pCliff-&gt;<a class="code hl_function" href="../../d9/d8b/classCRWCliff.html#aa5b22689c3aeb51ec82713f1f93f2539">dGetNotchDepth</a>();</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>         <span class="keywordtype">double</span> dRemaining = pCliff-&gt;<a class="code hl_function" href="../../d9/d8b/classCRWCliff.html#abdce12006e217f4d250bf00a95026264">dGetRemaining</a>();</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span> </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>         <span class="comment">// And store some attribute values in the cliff cell</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>         <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetLFSubCategory(<a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a159c5886feeb5802c0a13e16843d0edb">LF_SUBCAT_CLIFF_ON_COASTLINE</a>);</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>         <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetCliffNotchBaseElev(dNotchBaseElev);</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>         <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetCliffNotchDepth(dNotchDepth);</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>         <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetCliffRemaining(dRemaining);</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>      }</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>      {</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>         <span class="comment">// The cliff has collapsed: all sediment above the base of the erosional notch is gone from this cliff object via cliff collapse, so this cell is no longer a cliff</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>         <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].SetInContiguousSea();</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span> </div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>         <span class="comment">// Check the x-y extremities of the contiguous sea for the bounding box (used later in wave propagation)</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>         <span class="keywordflow">if</span> (nX &lt; <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#abff9ddb247738eee95aef40bb2dcb8b5">m_nXMinBoundingBox</a>)</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>            <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#abff9ddb247738eee95aef40bb2dcb8b5">m_nXMinBoundingBox</a> = nX;</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>         <span class="keywordflow">if</span> (nX &gt; <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a51794b80082e19e3665da55e6cd89006">m_nXMaxBoundingBox</a>)</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>            <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a51794b80082e19e3665da55e6cd89006">m_nXMaxBoundingBox</a> = nX;</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>         <span class="keywordflow">if</span> (nY &lt; <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a0655fbbadd6b56a19522bcff0a93a477">m_nYMinBoundingBox</a>)</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>            <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a0655fbbadd6b56a19522bcff0a93a477">m_nYMinBoundingBox</a> = nY;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span> </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>         <span class="keywordflow">if</span> (nY &gt; <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#aa3fc44d23db4498fe02afcb5f3864db2">m_nYMaxBoundingBox</a>)</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>            <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#aa3fc44d23db4498fe02afcb5f3864db2">m_nYMaxBoundingBox</a> = nY;</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span> </div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span><span class="comment">//          LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: CLIFF REMOVED [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;} is no longer a cliff landform&quot; &lt;&lt; endl;</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span> </div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>         <span class="keywordtype">int</span> nTopLayer = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].nGetTopLayerAboveBasement();</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>         <span class="comment">// Safety check</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>         <span class="keywordflow">if</span> (nTopLayer == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a01aa8b423260b337ddff2016107b51a0">INT_NODATA</a>)</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a0af2b64c1c33dbf4d223944b0bf234e6">RTN_ERR_NO_TOP_LAYER</a>;</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span> </div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>         <span class="comment">// Update the cell&#39;s layer elevations</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>         <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].CalcAllLayerElevsAndD50();</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span> </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>         <span class="comment">// And update the cell&#39;s sea depth</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>         <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].SetSeaDepth();</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>      }</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span> </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>      <span class="comment">// Always accumulate wave energy</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>      <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform()-&gt;SetAccumWaveEnergy(pCliff-&gt;<a class="code hl_function" href="../../d2/de0/classCACoastLandform.html#a4d8d2d9e96cbacba6ec6ba610c656879">dGetTotAccumWaveEnergy</a>());</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>   }</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>   </div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nCategory == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a>)</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>   {</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>      <span class="comment">// It&#39;s drift, so calculate D50 TODO 002 Why might we need this?</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span> </div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>   }</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>   <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#aa768cb14b5c6123ee95e6e4ebd9fe331">RTN_OK</a>;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>}</div>
</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span> </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span><span class="comment">//===============================================================================================================================</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span><span class="comment">//===============================================================================================================================</span></div>
<div class="foldopen" id="foldopen00353" data-start="{" data-end="}">
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno"><a class="line" href="../../d1/d98/classCSimulation.html#a9b1ac2474ec8804fc063381a44d35161">  353</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="../../d1/d98/classCSimulation.html#a9b1ac2474ec8804fc063381a44d35161">CSimulation::nAssignLandformsForAllCells</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>{</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>   <span class="comment">// Go through all cells in the RasterGrid array</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> nX = 0; nX &lt; <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1652253500dab35e6f6f9f734207e20b">m_nXGridSize</a>; nX++)</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>   {</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> nY = 0; nY &lt; <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a3755fdc07c0ac9f2ce6c2237cfef50ce">m_nYGridSize</a>; nY++)</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>      {</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>         <span class="comment">// Get this cell&#39;s landform category</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>         <a class="code hl_class" href="../../dc/d4a/classCRWCellLandform.html">CRWCellLandform</a>* pLandform = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].pGetLandform();</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>         <span class="keywordtype">int</span> nCat = pLandform-&gt;<a class="code hl_function" href="../../dc/d4a/classCRWCellLandform.html#a5350a7ac48d1eef3a78bef9bcf041b45">nGetLFCategory</a>();</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span> </div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>         <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].bBasementElevIsMissingValue())</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>         {</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>            <span class="comment">// Set to unknown landform</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>            pLandform-&gt;<a class="code hl_function" href="../../dc/d4a/classCRWCellLandform.html#aaf631af6cb530503a8fc676d4296ac79">SetLFCategory</a>(<a class="code hl_variable" href="../../d6/d2a/cme_8h.html#acad20aef3e8203f3fc004898a3c1637e">LF_NONE</a>);</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>         }</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>         <span class="keywordflow">if</span> ((nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a2113878b63a7dc5971c9500654865d55">LF_CAT_SEDIMENT_INPUT</a>) || (nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a2c56dd72d6afc9eb107a42a919bef8b0">LF_CAT_SEDIMENT_INPUT_SUBMERGED</a>) || (nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#ac79118ee70069f5e1a7e50430aef4597">LF_CAT_SEDIMENT_INPUT_NOT_SUBMERGED</a>))</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>         {</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].bIsInundated())</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            {</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>               pLandform-&gt;<a class="code hl_function" href="../../dc/d4a/classCRWCellLandform.html#aaf631af6cb530503a8fc676d4296ac79">SetLFCategory</a>(<a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a2c56dd72d6afc9eb107a42a919bef8b0">LF_CAT_SEDIMENT_INPUT_SUBMERGED</a>);</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>               <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].SetInContiguousSea();</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>            }</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>            {</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>               pLandform-&gt;<a class="code hl_function" href="../../dc/d4a/classCRWCellLandform.html#aaf631af6cb530503a8fc676d4296ac79">SetLFCategory</a>(<a class="code hl_variable" href="../../d6/d2a/cme_8h.html#ac79118ee70069f5e1a7e50430aef4597">LF_CAT_SEDIMENT_INPUT_NOT_SUBMERGED</a>);</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>            }</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>         }</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>         <span class="keywordflow">if</span> (nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a14b47e1272cd63a7c770dca9ef08882d">LF_CAT_SEA</a>)</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>         {</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>            <span class="comment">// This is a sea cell. Is it surrounded by drift cells, or drift and cliff?</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d1/d98/classCSimulation.html#aa18683054054c1372d666281470402ac">bSurroundedByDriftCells</a>(nX, nY))</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>            {</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>               <span class="comment">// It is. We can can get &#39;holes&#39; in the beach (due to rounding issues), so set this cell&#39;s landform to beach</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>               pLandform-&gt;<a class="code hl_function" href="../../dc/d4a/classCRWCellLandform.html#af53d3fe69c297cfb0b41d03e55ed6467">SetLFSubCategory</a>(<a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a00f521019b919ebd555709d1c8a5a4bf">LF_SUBCAT_DRIFT_BEACH</a>);</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>               <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>            }</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].dGetSedimentTopElev() &gt; <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a115ab27bae37ce2d0de57cbdaeaba852">m_dThisIterSWL</a>)</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>            {</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>               <span class="comment">// This is an island</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>               pLandform-&gt;<a class="code hl_function" href="../../dc/d4a/classCRWCellLandform.html#aaf631af6cb530503a8fc676d4296ac79">SetLFCategory</a>(<a class="code hl_variable" href="../../d6/d2a/cme_8h.html#ae147e1ac95783dcf61dd2572f35b0a5f">LF_CAT_ISLAND</a>);</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>               <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>            }</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>            {</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>               <span class="comment">// Keep it as sea</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>               <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>            }</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>         }</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span> </div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>         <span class="comment">// Ok, this cell is either coast or inland</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>         <span class="keywordflow">if</span> (! <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nX][nY].bIsCoastline())</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>         {</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>            <span class="comment">// Is not coastline</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>            <span class="keywordflow">if</span> (nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#ad6be96d3be217d31a74c2412d7e6cbbb">LF_CAT_CLIFF</a>)</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>            {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>               <span class="comment">// This was a cliff during the last timestep, but it is no longer on the coastline. So classify it as a former cliff</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>               pLandform-&gt;<a class="code hl_function" href="../../dc/d4a/classCRWCellLandform.html#af53d3fe69c297cfb0b41d03e55ed6467">SetLFSubCategory</a>(<a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a8c495740237a611fe331cd4d06a97ee0">LF_SUBCAT_CLIFF_INLAND</a>);</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span> </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span><span class="comment">//                LogStream &lt;&lt; m_ulIter &lt;&lt; &quot;: FORMER CLIFF CREATED from cliff landform [&quot; &lt;&lt; nX &lt;&lt; &quot;][&quot; &lt;&lt; nY &lt;&lt; &quot;] = {&quot; &lt;&lt; dGridCentroidXToExtCRSX(nX) &lt;&lt; &quot;, &quot; &lt;&lt; dGridCentroidYToExtCRSY(nY) &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span> </div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>               <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>            }</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span> </div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>            <span class="keywordflow">if</span> ((nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a>) || (nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#afb9499d46447e0115ed3abc66ce28a7d">LF_CAT_INTERVENTION</a>) || (nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a2113878b63a7dc5971c9500654865d55">LF_CAT_SEDIMENT_INPUT</a>) || (nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a2c56dd72d6afc9eb107a42a919bef8b0">LF_CAT_SEDIMENT_INPUT_SUBMERGED</a>) || (nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#ac79118ee70069f5e1a7e50430aef4597">LF_CAT_SEDIMENT_INPUT_NOT_SUBMERGED</a>))</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>               <span class="comment">// Do nothing</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>               <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span> </div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>            <span class="comment">// It must be hinterland</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>            pLandform-&gt;<a class="code hl_function" href="../../dc/d4a/classCRWCellLandform.html#aaf631af6cb530503a8fc676d4296ac79">SetLFCategory</a>(<a class="code hl_variable" href="../../d6/d2a/cme_8h.html#aea9af3c29f359fe6dddcd98a7bb4dc31">LF_CAT_HINTERLAND</a>);</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>         }</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>      }</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>   }</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span> </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>   <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#aa768cb14b5c6123ee95e6e4ebd9fe331">RTN_OK</a>;</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>}</div>
</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span><span class="comment">//===============================================================================================================================</span></div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span><span class="comment">//===============================================================================================================================</span></div>
<div class="foldopen" id="foldopen00436" data-start="{" data-end="}">
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno"><a class="line" href="../../d1/d98/classCSimulation.html#aa18683054054c1372d666281470402ac">  436</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="../../d1/d98/classCSimulation.html#aa18683054054c1372d666281470402ac">CSimulation::bSurroundedByDriftCells</a>(<span class="keywordtype">int</span> <span class="keyword">const</span> nX, <span class="keywordtype">int</span> <span class="keyword">const</span> nY)</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>{</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>   <span class="keywordtype">int</span> nXTmp;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>   <span class="keywordtype">int</span> nYTmp;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>   <span class="keywordtype">int</span> nAdjacent = 0;</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>   <span class="comment">// North</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>   nXTmp = nX;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>   nYTmp = nY - 1;</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>   <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d1/d98/classCSimulation.html#ac900a5701df97da22278fae928951f50">bIsWithinValidGrid</a>(nXTmp, nYTmp))</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>   {</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>      <a class="code hl_class" href="../../dc/d4a/classCRWCellLandform.html">CRWCellLandform</a> <span class="keyword">const</span>* pLandform = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nXTmp][nYTmp].pGetLandform();</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>      <span class="keywordtype">int</span> nCat = pLandform-&gt;<a class="code hl_function" href="../../dc/d4a/classCRWCellLandform.html#a5350a7ac48d1eef3a78bef9bcf041b45">nGetLFCategory</a>();</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>      <span class="keywordflow">if</span> ((nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a>) || (nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#ad6be96d3be217d31a74c2412d7e6cbbb">LF_CAT_CLIFF</a>))</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>         nAdjacent++;</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>   }</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span> </div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>   <span class="comment">// East</span></div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>   nXTmp = nX + 1;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>   nYTmp = nY;</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>   <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d1/d98/classCSimulation.html#ac900a5701df97da22278fae928951f50">bIsWithinValidGrid</a>(nXTmp, nYTmp))</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>   {</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>      <a class="code hl_class" href="../../dc/d4a/classCRWCellLandform.html">CRWCellLandform</a> <span class="keyword">const</span>* pLandform = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nXTmp][nYTmp].pGetLandform();</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>      <span class="keywordtype">int</span> nCat = pLandform-&gt;<a class="code hl_function" href="../../dc/d4a/classCRWCellLandform.html#a5350a7ac48d1eef3a78bef9bcf041b45">nGetLFCategory</a>();</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>      <span class="keywordflow">if</span> ((nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a>) || (nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#ad6be96d3be217d31a74c2412d7e6cbbb">LF_CAT_CLIFF</a>))</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>         nAdjacent++;</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>   }</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span> </div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>   <span class="comment">// South</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>   nXTmp = nX;</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>   nYTmp = nY + 1;</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>   <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d1/d98/classCSimulation.html#ac900a5701df97da22278fae928951f50">bIsWithinValidGrid</a>(nXTmp, nYTmp))</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>   {</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>      <a class="code hl_class" href="../../dc/d4a/classCRWCellLandform.html">CRWCellLandform</a> <span class="keyword">const</span>* pLandform = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nXTmp][nYTmp].pGetLandform();</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>      <span class="keywordtype">int</span> nCat = pLandform-&gt;<a class="code hl_function" href="../../dc/d4a/classCRWCellLandform.html#a5350a7ac48d1eef3a78bef9bcf041b45">nGetLFCategory</a>();</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>      <span class="keywordflow">if</span> ((nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a>) || (nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#ad6be96d3be217d31a74c2412d7e6cbbb">LF_CAT_CLIFF</a>))</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>         nAdjacent++;</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>   }</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span> </div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>   <span class="comment">// West</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>   nXTmp = nX - 1;</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>   nYTmp = nY;</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>   <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d1/d98/classCSimulation.html#ac900a5701df97da22278fae928951f50">bIsWithinValidGrid</a>(nXTmp, nYTmp))</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>   {</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>      <a class="code hl_class" href="../../dc/d4a/classCRWCellLandform.html">CRWCellLandform</a> <span class="keyword">const</span>* pLandform = <a class="code hl_variable" href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">m_pRasterGrid</a>-&gt;m_Cell[nXTmp][nYTmp].pGetLandform();</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>      <span class="keywordtype">int</span> nCat = pLandform-&gt;<a class="code hl_function" href="../../dc/d4a/classCRWCellLandform.html#a5350a7ac48d1eef3a78bef9bcf041b45">nGetLFCategory</a>();</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>      <span class="keywordflow">if</span> ((nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a>) || (nCat == <a class="code hl_variable" href="../../d6/d2a/cme_8h.html#ad6be96d3be217d31a74c2412d7e6cbbb">LF_CAT_CLIFF</a>))</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>         nAdjacent++;</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>   }</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span> </div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>   <span class="keywordflow">if</span> (nAdjacent == 4)</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>   {</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>      <span class="comment">// This cell has four LF_CAT_DRIFT neighbours</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>   }</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span> </div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>   <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>}</div>
</div>
<div class="ttc" id="aclassCACoastLandform_html"><div class="ttname"><a href="../../d2/de0/classCACoastLandform.html">CACoastLandform</a></div><div class="ttdoc">Abstract class, used as a base class for landform objects on the coastline.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d6c/coast__landform_8h_source.html#l00032">coast_landform.h:33</a></div></div>
<div class="ttc" id="aclassCACoastLandform_html_a4d8d2d9e96cbacba6ec6ba610c656879"><div class="ttname"><a href="../../d2/de0/classCACoastLandform.html#a4d8d2d9e96cbacba6ec6ba610c656879">CACoastLandform::dGetTotAccumWaveEnergy</a></div><div class="ttdeci">double dGetTotAccumWaveEnergy(void) const</div><div class="ttdoc">Get total accumulated wave energy.</div><div class="ttdef"><b>Definition</b> <a href="../../de/dc3/coast__landform_8cpp_source.html#l00083">coast_landform.cpp:83</a></div></div>
<div class="ttc" id="aclassCACoastLandform_html_ac161cb56a83d653b651aa08173a1f1ca"><div class="ttname"><a href="../../d2/de0/classCACoastLandform.html#ac161cb56a83d653b651aa08173a1f1ca">CACoastLandform::nGetLandFormCategory</a></div><div class="ttdeci">int nGetLandFormCategory(void) const</div><div class="ttdoc">Get the landform category.</div><div class="ttdef"><b>Definition</b> <a href="../../de/dc3/coast__landform_8cpp_source.html#l00060">coast_landform.cpp:60</a></div></div>
<div class="ttc" id="aclassCRWCellLandform_html"><div class="ttname"><a href="../../dc/d4a/classCRWCellLandform.html">CRWCellLandform</a></div><div class="ttdoc">Real-world class used to represent the landform of a cell.</div><div class="ttdef"><b>Definition</b> <a href="../../df/d51/cell__landform_8h_source.html#l00028">cell_landform.h:29</a></div></div>
<div class="ttc" id="aclassCRWCellLandform_html_a5350a7ac48d1eef3a78bef9bcf041b45"><div class="ttname"><a href="../../dc/d4a/classCRWCellLandform.html#a5350a7ac48d1eef3a78bef9bcf041b45">CRWCellLandform::nGetLFCategory</a></div><div class="ttdeci">int nGetLFCategory(void) const</div><div class="ttdoc">Get the landform category.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d02/cell__landform_8cpp_source.html#l00049">cell_landform.cpp:49</a></div></div>
<div class="ttc" id="aclassCRWCellLandform_html_aaf631af6cb530503a8fc676d4296ac79"><div class="ttname"><a href="../../dc/d4a/classCRWCellLandform.html#aaf631af6cb530503a8fc676d4296ac79">CRWCellLandform::SetLFCategory</a></div><div class="ttdeci">void SetLFCategory(int const)</div><div class="ttdoc">Set the landform category.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d02/cell__landform_8cpp_source.html#l00043">cell_landform.cpp:43</a></div></div>
<div class="ttc" id="aclassCRWCellLandform_html_af53d3fe69c297cfb0b41d03e55ed6467"><div class="ttname"><a href="../../dc/d4a/classCRWCellLandform.html#af53d3fe69c297cfb0b41d03e55ed6467">CRWCellLandform::SetLFSubCategory</a></div><div class="ttdeci">void SetLFSubCategory(int const)</div><div class="ttdoc">Set the both the landform sub-category, and the landform category.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d02/cell__landform_8cpp_source.html#l00055">cell_landform.cpp:55</a></div></div>
<div class="ttc" id="aclassCRWCliff_html"><div class="ttname"><a href="../../d9/d8b/classCRWCliff.html">CRWCliff</a></div><div class="ttdoc">Real-world class used to represent the &#39;cliff&#39; category of coastal landform object.</div><div class="ttdef"><b>Definition</b> <a href="../../db/df0/cliff_8h_source.html#l00032">cliff.h:33</a></div></div>
<div class="ttc" id="aclassCRWCliff_html_a08e6c29f7302b939d1292b46cd04bd24"><div class="ttname"><a href="../../d9/d8b/classCRWCliff.html#a08e6c29f7302b939d1292b46cd04bd24">CRWCliff::bHasCollapsed</a></div><div class="ttdeci">bool bHasCollapsed(void) const</div><div class="ttdoc">Returns the value of the cliff collapse switch.</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d3f/cliff_8cpp_source.html#l00058">cliff.cpp:58</a></div></div>
<div class="ttc" id="aclassCRWCliff_html_a70151d708b933a25eb7836d63cea7f8b"><div class="ttname"><a href="../../d9/d8b/classCRWCliff.html#a70151d708b933a25eb7836d63cea7f8b">CRWCliff::dGetNotchBaseElev</a></div><div class="ttdeci">double dGetNotchBaseElev(void) const</div><div class="ttdoc">Returns the elevation of the base of the erosional notch.</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d3f/cliff_8cpp_source.html#l00070">cliff.cpp:70</a></div></div>
<div class="ttc" id="aclassCRWCliff_html_aa5b22689c3aeb51ec82713f1f93f2539"><div class="ttname"><a href="../../d9/d8b/classCRWCliff.html#aa5b22689c3aeb51ec82713f1f93f2539">CRWCliff::dGetNotchDepth</a></div><div class="ttdeci">double dGetNotchDepth(void) const</div><div class="ttdoc">Returns the horizontal depth of the cliff&#39;s erosional notch (the &#39;overhang&#39;)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d3f/cliff_8cpp_source.html#l00094">cliff.cpp:94</a></div></div>
<div class="ttc" id="aclassCRWCliff_html_abdce12006e217f4d250bf00a95026264"><div class="ttname"><a href="../../d9/d8b/classCRWCliff.html#abdce12006e217f4d250bf00a95026264">CRWCliff::dGetRemaining</a></div><div class="ttdeci">double dGetRemaining(void) const</div><div class="ttdoc">Returns the length (in external CRS units) of the cliff&#39;s remaining sediment &#39;behind&#39; the erosional n...</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d3f/cliff_8cpp_source.html#l00082">cliff.cpp:82</a></div></div>
<div class="ttc" id="aclassCRWDrift_html"><div class="ttname"><a href="../../d0/d02/classCRWDrift.html">CRWDrift</a></div><div class="ttdoc">Real-world class used to represent the &#39;drift&#39; category of coastal landform object.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dcd/drift_8h_source.html#l00032">drift.h:33</a></div></div>
<div class="ttc" id="aclassCRWIntervention_html"><div class="ttname"><a href="../../d4/d51/classCRWIntervention.html">CRWIntervention</a></div><div class="ttdoc">Real-world class used to represent the &#39;intervention&#39; category of coastal landform objects.</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d47/intervention_8h_source.html#l00032">intervention.h:33</a></div></div>
<div class="ttc" id="aclassCSimulation_html_a0655fbbadd6b56a19522bcff0a93a477"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#a0655fbbadd6b56a19522bcff0a93a477">CSimulation::m_nYMinBoundingBox</a></div><div class="ttdeci">int m_nYMinBoundingBox</div><div class="ttdoc">The minimum y value of the bounding box.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d6a/simulation_8h_source.html#l00500">simulation.h:500</a></div></div>
<div class="ttc" id="aclassCSimulation_html_a115ab27bae37ce2d0de57cbdaeaba852"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#a115ab27bae37ce2d0de57cbdaeaba852">CSimulation::m_dThisIterSWL</a></div><div class="ttdeci">double m_dThisIterSWL</div><div class="ttdoc">The still water level for this timestep (this includes tidal changes and any long-term SWL change)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d6a/simulation_8h_source.html#l00667">simulation.h:667</a></div></div>
<div class="ttc" id="aclassCSimulation_html_a1312f0ac2c93a6cb2bc41c23eb01c293"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#a1312f0ac2c93a6cb2bc41c23eb01c293">CSimulation::m_pRasterGrid</a></div><div class="ttdeci">CGeomRasterGrid * m_pRasterGrid</div><div class="ttdoc">Pointer to the raster grid object.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d6a/simulation_8h_source.html#l01478">simulation.h:1478</a></div></div>
<div class="ttc" id="aclassCSimulation_html_a1652253500dab35e6f6f9f734207e20b"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#a1652253500dab35e6f6f9f734207e20b">CSimulation::m_nXGridSize</a></div><div class="ttdeci">int m_nXGridSize</div><div class="ttdoc">The size of the grid in the x direction.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d6a/simulation_8h_source.html#l00431">simulation.h:431</a></div></div>
<div class="ttc" id="aclassCSimulation_html_a16fa334ddfaabec608ba57253da83387"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#a16fa334ddfaabec608ba57253da83387">CSimulation::nAssignLandformsForAllCoasts</a></div><div class="ttdeci">int nAssignLandformsForAllCoasts(void)</div><div class="ttdoc">Each timestep, classify coastal landforms and assign a coastal landform object to every point on ever...</div><div class="ttdef"><b>Definition</b> <a href="#l00041">assign_landforms.cpp:41</a></div></div>
<div class="ttc" id="aclassCSimulation_html_a222962121613613a48f518e0c2110f21"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#a222962121613613a48f518e0c2110f21">CSimulation::LogStream</a></div><div class="ttdeci">ofstream LogStream</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d6a/simulation_8h_source.html#l01768">simulation.h:1768</a></div></div>
<div class="ttc" id="aclassCSimulation_html_a25ada8139c82ca7beab3f279cff83184"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#a25ada8139c82ca7beab3f279cff83184">CSimulation::m_VCoast</a></div><div class="ttdeci">vector&lt; CRWCoast &gt; m_VCoast</div><div class="ttdoc">The coastline objects.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d6a/simulation_8h_source.html#l01481">simulation.h:1481</a></div></div>
<div class="ttc" id="aclassCSimulation_html_a3755fdc07c0ac9f2ce6c2237cfef50ce"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#a3755fdc07c0ac9f2ce6c2237cfef50ce">CSimulation::m_nYGridSize</a></div><div class="ttdeci">int m_nYGridSize</div><div class="ttdoc">The size of the grid in the y direction.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d6a/simulation_8h_source.html#l00434">simulation.h:434</a></div></div>
<div class="ttc" id="aclassCSimulation_html_a51794b80082e19e3665da55e6cd89006"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#a51794b80082e19e3665da55e6cd89006">CSimulation::m_nXMaxBoundingBox</a></div><div class="ttdeci">int m_nXMaxBoundingBox</div><div class="ttdoc">The maximum x value of the bounding box.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d6a/simulation_8h_source.html#l00497">simulation.h:497</a></div></div>
<div class="ttc" id="aclassCSimulation_html_a7e2a4bd69ce79377fee86aa5598903f8"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#a7e2a4bd69ce79377fee86aa5598903f8">CSimulation::dGridCentroidYToExtCRSY</a></div><div class="ttdeci">double dGridCentroidYToExtCRSY(int const) const</div><div class="ttdoc">Given the integer Y-axis ordinate of a cell in the raster grid CRS, returns the external CRS Y-axis o...</div><div class="ttdef"><b>Definition</b> <a href="../../db/df7/gis__utils_8cpp_source.html#l00071">gis_utils.cpp:71</a></div></div>
<div class="ttc" id="aclassCSimulation_html_a9b1ac2474ec8804fc063381a44d35161"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#a9b1ac2474ec8804fc063381a44d35161">CSimulation::nAssignLandformsForAllCells</a></div><div class="ttdeci">int nAssignLandformsForAllCells(void)</div><div class="ttdoc">Each timestep, classify landforms for cells that are not on the coastline.</div><div class="ttdef"><b>Definition</b> <a href="#l00353">assign_landforms.cpp:353</a></div></div>
<div class="ttc" id="aclassCSimulation_html_aa18683054054c1372d666281470402ac"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#aa18683054054c1372d666281470402ac">CSimulation::bSurroundedByDriftCells</a></div><div class="ttdeci">bool bSurroundedByDriftCells(int const, int const)</div><div class="ttdoc">Returns true if this cell has four drift cells surrounding it.</div><div class="ttdef"><b>Definition</b> <a href="#l00436">assign_landforms.cpp:436</a></div></div>
<div class="ttc" id="aclassCSimulation_html_aa3fc44d23db4498fe02afcb5f3864db2"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#aa3fc44d23db4498fe02afcb5f3864db2">CSimulation::m_nYMaxBoundingBox</a></div><div class="ttdeci">int m_nYMaxBoundingBox</div><div class="ttdoc">The maximum y value of the bounding box.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d6a/simulation_8h_source.html#l00503">simulation.h:503</a></div></div>
<div class="ttc" id="aclassCSimulation_html_abff9ddb247738eee95aef40bb2dcb8b5"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#abff9ddb247738eee95aef40bb2dcb8b5">CSimulation::m_nXMinBoundingBox</a></div><div class="ttdeci">int m_nXMinBoundingBox</div><div class="ttdoc">The minimum x value of the bounding box.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d6a/simulation_8h_source.html#l00494">simulation.h:494</a></div></div>
<div class="ttc" id="aclassCSimulation_html_ac900a5701df97da22278fae928951f50"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#ac900a5701df97da22278fae928951f50">CSimulation::bIsWithinValidGrid</a></div><div class="ttdeci">bool bIsWithinValidGrid(int const, int const) const</div><div class="ttdoc">Checks whether the supplied point (an x-y pair, in the grid CRS) is within the raster grid,...</div><div class="ttdef"><b>Definition</b> <a href="../../db/df7/gis__utils_8cpp_source.html#l00170">gis_utils.cpp:170</a></div></div>
<div class="ttc" id="aclassCSimulation_html_ad67e8c5b30a0572f64ecfb5c062c2edc"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#ad67e8c5b30a0572f64ecfb5c062c2edc">CSimulation::m_ulIter</a></div><div class="ttdeci">unsigned long m_ulIter</div><div class="ttdoc">The number of the current iteration (time step)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d6a/simulation_8h_source.html#l00553">simulation.h:553</a></div></div>
<div class="ttc" id="aclassCSimulation_html_ad79b925ac5f358c6f867b6e47dad74bd"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#ad79b925ac5f358c6f867b6e47dad74bd">CSimulation::dGridCentroidXToExtCRSX</a></div><div class="ttdeci">double dGridCentroidXToExtCRSX(int const) const</div><div class="ttdoc">Given the integer X-axis ordinate of a cell in the raster grid CRS, returns the external CRS X-axis o...</div><div class="ttdef"><b>Definition</b> <a href="../../db/df7/gis__utils_8cpp_source.html#l00062">gis_utils.cpp:62</a></div></div>
<div class="ttc" id="aclassCSimulation_html_ae0de69c3d3acd6d52dc2ec2f456c0eb5"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#ae0de69c3d3acd6d52dc2ec2f456c0eb5">CSimulation::m_dCellSide</a></div><div class="ttdeci">double m_dCellSide</div><div class="ttdoc">Length of a cell side (in external CRS units)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d6a/simulation_8h_source.html#l00613">simulation.h:613</a></div></div>
<div class="ttc" id="aclassCSimulation_html_ae293573ac53f0a8d536037d0edffd25f"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#ae293573ac53f0a8d536037d0edffd25f">CSimulation::bIsInterventionCell</a></div><div class="ttdeci">bool bIsInterventionCell(int const, int const) const</div><div class="ttdoc">Returns true if the cell is an intervention.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d06/utils_8cpp_source.html#l02736">utils.cpp:2736</a></div></div>
<div class="ttc" id="aclassCSimulation_html_af9de548b92fa5739286fd1bb9329e732"><div class="ttname"><a href="../../d1/d98/classCSimulation.html#af9de548b92fa5739286fd1bb9329e732">CSimulation::nLandformToGrid</a></div><div class="ttdeci">int nLandformToGrid(int const, int const)</div><div class="ttdoc">At the end of each timestep, this routine stores the attributes from a single coastal landform object...</div><div class="ttdef"><b>Definition</b> <a href="#l00277">assign_landforms.cpp:277</a></div></div>
<div class="ttc" id="acliff_8h_html"><div class="ttname"><a href="../../db/df0/cliff_8h.html">cliff.h</a></div><div class="ttdoc">Contains CRWCliff definitions.</div></div>
<div class="ttc" id="acme_8h_html"><div class="ttname"><a href="../../d6/d2a/cme_8h.html">cme.h</a></div><div class="ttdoc">This file contains global definitions for CoastalME.</div></div>
<div class="ttc" id="acme_8h_html_a00f521019b919ebd555709d1c8a5a4bf"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#a00f521019b919ebd555709d1c8a5a4bf">LF_SUBCAT_DRIFT_BEACH</a></div><div class="ttdeci">int const LF_SUBCAT_DRIFT_BEACH</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00440">cme.h:440</a></div></div>
<div class="ttc" id="acme_8h_html_a01aa8b423260b337ddff2016107b51a0"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#a01aa8b423260b337ddff2016107b51a0">INT_NODATA</a></div><div class="ttdeci">int const INT_NODATA</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00362">cme.h:362</a></div></div>
<div class="ttc" id="acme_8h_html_a0af2b64c1c33dbf4d223944b0bf234e6"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#a0af2b64c1c33dbf4d223944b0bf234e6">RTN_ERR_NO_TOP_LAYER</a></div><div class="ttdeci">int const RTN_ERR_NO_TOP_LAYER</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00623">cme.h:623</a></div></div>
<div class="ttc" id="acme_8h_html_a14b47e1272cd63a7c770dca9ef08882d"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#a14b47e1272cd63a7c770dca9ef08882d">LF_CAT_SEA</a></div><div class="ttdeci">int const LF_CAT_SEA</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00422">cme.h:422</a></div></div>
<div class="ttc" id="acme_8h_html_a159c5886feeb5802c0a13e16843d0edb"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#a159c5886feeb5802c0a13e16843d0edb">LF_SUBCAT_CLIFF_ON_COASTLINE</a></div><div class="ttdeci">int const LF_SUBCAT_CLIFF_ON_COASTLINE</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00434">cme.h:434</a></div></div>
<div class="ttc" id="acme_8h_html_a1a0f3745fbc2e50a9f483893339c9f75"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#a1a0f3745fbc2e50a9f483893339c9f75">ELEV_ABOVE_SEDIMENT_TOP</a></div><div class="ttdeci">int const ELEV_ABOVE_SEDIMENT_TOP</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00651">cme.h:651</a></div></div>
<div class="ttc" id="acme_8h_html_a2113878b63a7dc5971c9500654865d55"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#a2113878b63a7dc5971c9500654865d55">LF_CAT_SEDIMENT_INPUT</a></div><div class="ttdeci">int const LF_CAT_SEDIMENT_INPUT</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00424">cme.h:424</a></div></div>
<div class="ttc" id="acme_8h_html_a2c56dd72d6afc9eb107a42a919bef8b0"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#a2c56dd72d6afc9eb107a42a919bef8b0">LF_CAT_SEDIMENT_INPUT_SUBMERGED</a></div><div class="ttdeci">int const LF_CAT_SEDIMENT_INPUT_SUBMERGED</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00425">cme.h:425</a></div></div>
<div class="ttc" id="acme_8h_html_a48ef8882a05bbb7c4fe8e35065e06ee4"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#a48ef8882a05bbb7c4fe8e35065e06ee4">LF_CAT_DRIFT</a></div><div class="ttdeci">int const LF_CAT_DRIFT</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00430">cme.h:430</a></div></div>
<div class="ttc" id="acme_8h_html_a8c495740237a611fe331cd4d06a97ee0"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#a8c495740237a611fe331cd4d06a97ee0">LF_SUBCAT_CLIFF_INLAND</a></div><div class="ttdeci">int const LF_SUBCAT_CLIFF_INLAND</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00435">cme.h:435</a></div></div>
<div class="ttc" id="acme_8h_html_aa768cb14b5c6123ee95e6e4ebd9fe331"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#aa768cb14b5c6123ee95e6e4ebd9fe331">RTN_OK</a></div><div class="ttdeci">int const RTN_OK</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00577">cme.h:577</a></div></div>
<div class="ttc" id="acme_8h_html_ac006049b50f3bab64858fe746d6733c8"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#ac006049b50f3bab64858fe746d6733c8">LF_SUBCAT_DRIFT_MIXED</a></div><div class="ttdeci">int const LF_SUBCAT_DRIFT_MIXED</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00438">cme.h:438</a></div></div>
<div class="ttc" id="acme_8h_html_ac79118ee70069f5e1a7e50430aef4597"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#ac79118ee70069f5e1a7e50430aef4597">LF_CAT_SEDIMENT_INPUT_NOT_SUBMERGED</a></div><div class="ttdeci">int const LF_CAT_SEDIMENT_INPUT_NOT_SUBMERGED</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00426">cme.h:426</a></div></div>
<div class="ttc" id="acme_8h_html_acad20aef3e8203f3fc004898a3c1637e"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#acad20aef3e8203f3fc004898a3c1637e">LF_NONE</a></div><div class="ttdeci">int const LF_NONE</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00418">cme.h:418</a></div></div>
<div class="ttc" id="acme_8h_html_acb2ce7af39512b19a2ea1b3b0826aca2"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#acb2ce7af39512b19a2ea1b3b0826aca2">RTN_ERR_CANNOT_ASSIGN_COASTAL_LANDFORM</a></div><div class="ttdeci">int const RTN_ERR_CANNOT_ASSIGN_COASTAL_LANDFORM</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00627">cme.h:627</a></div></div>
<div class="ttc" id="acme_8h_html_aced815d3e3aed93353376983f4295d75"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#aced815d3e3aed93353376983f4295d75">ELEV_IN_BASEMENT</a></div><div class="ttdeci">int const ELEV_IN_BASEMENT</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00650">cme.h:650</a></div></div>
<div class="ttc" id="acme_8h_html_ad6be96d3be217d31a74c2412d7e6cbbb"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#ad6be96d3be217d31a74c2412d7e6cbbb">LF_CAT_CLIFF</a></div><div class="ttdeci">int const LF_CAT_CLIFF</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00429">cme.h:429</a></div></div>
<div class="ttc" id="acme_8h_html_ae147e1ac95783dcf61dd2572f35b0a5f"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#ae147e1ac95783dcf61dd2572f35b0a5f">LF_CAT_ISLAND</a></div><div class="ttdeci">int const LF_CAT_ISLAND</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00423">cme.h:423</a></div></div>
<div class="ttc" id="acme_8h_html_aea9af3c29f359fe6dddcd98a7bb4dc31"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#aea9af3c29f359fe6dddcd98a7bb4dc31">LF_CAT_HINTERLAND</a></div><div class="ttdeci">int const LF_CAT_HINTERLAND</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00421">cme.h:421</a></div></div>
<div class="ttc" id="acme_8h_html_afb9499d46447e0115ed3abc66ce28a7d"><div class="ttname"><a href="../../d6/d2a/cme_8h.html#afb9499d46447e0115ed3abc66ce28a7d">LF_CAT_INTERVENTION</a></div><div class="ttdeci">int const LF_CAT_INTERVENTION</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/cme_8h_source.html#l00431">cme.h:431</a></div></div>
<div class="ttc" id="acoast_8h_html"><div class="ttname"><a href="../../de/d65/coast_8h.html">coast.h</a></div><div class="ttdoc">Contains CRWCoast definitions.</div></div>
<div class="ttc" id="adrift_8h_html"><div class="ttname"><a href="../../d6/dcd/drift_8h.html">drift.h</a></div><div class="ttdoc">Contains CRWDrift definitions.</div></div>
<div class="ttc" id="aintervention_8h_html"><div class="ttname"><a href="../../d3/d47/intervention_8h.html">intervention.h</a></div><div class="ttdoc">Contains CRWIntervention definitions.</div></div>
<div class="ttc" id="asimulation_8h_html"><div class="ttname"><a href="../../dd/d6a/simulation_8h.html">simulation.h</a></div><div class="ttdoc">Contains CSimulation definitions.</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../da/d3d/assign__landforms_8cpp.html">assign_landforms.cpp</a></li>
    <li class="footer">Generated on Tue Mar 11 2025 15:29:07 for CoastalME (Coastal Modelling Environment) by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
